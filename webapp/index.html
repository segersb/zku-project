<!--1 npx hardhat node-->
<!--2 npx hardhat run --network localhost scripts/deploy.js-->
<!--3 serve the root folder with a http server-->

<script src="https://unpkg.com/vue@3"></script>
<script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/snarkjs@0.4.22/build/snarkjs.min.js"></script>

<div id="app" class="section">
  <button @click="makeProof">Make proof</button>
</div>

<script>
const {createApp} = Vue

createApp({
  data () {
    return {}
  },

  methods: {
    async makeProof () {
      const proofInput = {
        utility: [
          340282366920938463463374607431768211455n,
          340282366920938463463374607431768211455n
        ],
        utilityStep: 1,
        collection: 841902484319226500320719106715585051060765596184n,
        token: [0n, 100000000000000000001n],
        publicKey: [
          174255173248205231292272263112908103574n,
          179570948508907318645427444530418806133n,
          70822627184780446328706434864430252394n,
          333315569893594575131869936884195863205n
        ],
        signatureR: [
          143048123206698418026145153260482334309n,
          23695101670707212988357366217233333715n
        ],
        signatureS: [
          127547386240062467561079795302183431421n,
          87387157547453787917414354957833749902n
        ],
        snapshotPathPositions: [
          0, 0, 0, 0, 0, 0,
          0, 0, 0, 0, 0, 0,
          0, 0, 0, 0
        ],
        snapshotPathElements: [
          9577170586672984473067634650531508832626804144580693657553428923379399048613n,
          17193505902288061907295352574549029347019788230553395641048500507818312324103n,
          7423237065226347324353380772367382631490014989348495481811164164159255474657n,
          11286972368698509976183087595462810875513684078608517520839298933882497716792n,
          3607627140608796879659380071776844901612302623152076817094415224584923813162n,
          19712377064642672829441595136074946683621277828620209496774504837737984048981n,
          20775607673010627194014556968476266066927294572720319469184847051418138353016n,
          3396914609616007258851405644437304192397291162432396347162513310381425243293n,
          21551820661461729022865262380882070649935529853313286572328683688269863701601n,
          6573136701248752079028194407151022595060682063033565181951145966236778420039n,
          12413880268183407374852357075976609371175688755676981206018884971008854919922n,
          14271763308400718165336499097156975241954733520325982997864342600795471836726n,
          20066985985293572387227381049700832219069292839614107140851619262827735677018n,
          9394776414966240069580838672673694685292165040808226440647796406499139370960n,
          11331146992410411304059858900317123658895005918277453009197229807340014528524n,
          15819538789928229930262697811477882737253464456578333862691129291651619515538n
        ]
      }
      console.log('start proof')
      await snarkjs.groth16.fullProve(proofInput, "./utilityClaim.wasm", "./utilityClaim_final.zkey");
      console.log('proof done')
    }
  }
}).mount('#app')
</script>